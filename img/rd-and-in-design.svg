<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   contentScriptType="application/ecmascript"
   contentStyleType="text/css"
   height="450.27838"
   preserveAspectRatio="none"
   version="1.1"
   viewBox="0 0 536 450.27838"
   width="536"
   zoomAndPan="magnify"
   id="svg183"
   sodipodi:docname="rd-and-in-design.svg"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)">
  <metadata
     id="metadata187">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <sodipodi:namedview
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1"
     objecttolerance="10"
     gridtolerance="10"
     guidetolerance="10"
     inkscape:pageopacity="0"
     inkscape:pageshadow="2"
     inkscape:window-width="1920"
     inkscape:window-height="1001"
     id="namedview185"
     showgrid="false"
     inkscape:snap-page="true"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0"
     inkscape:zoom="2.4235075"
     inkscape:cx="268"
     inkscape:cy="167.05278"
     inkscape:window-x="-9"
     inkscape:window-y="-9"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg183" />
  <defs
     id="defs11">
    <filter
       height="3"
       id="fho9u2tgkagrw"
       width="3"
       x="-1"
       y="-1">
      <feGaussianBlur
         result="blurOut"
         stdDeviation="2.0"
         id="feGaussianBlur2" />
      <feColorMatrix
         in="blurOut"
         result="blurOut2"
         type="matrix"
         values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"
         id="feColorMatrix4" />
      <feOffset
         dx="4.0"
         dy="4.0"
         in="blurOut2"
         result="blurOut3"
         id="feOffset6" />
      <feBlend
         in="SourceGraphic"
         in2="blurOut3"
         mode="normal"
         id="feBlend8" />
    </filter>
  </defs>
  <g
     id="g181">
    <text
       font-size="14"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="75"
       x="153"
       y="22.9951"
       id="text13"
       style="font-weight:bold;font-size:14px;font-family:sans-serif;fill:#000000">Design of</text>
    <text
       font-size="14"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="16"
       x="233"
       y="24.9046"
       id="text15"
       style="font-weight:bold;font-size:14px;font-family:monospace;fill:#000000">rd</text>
    <text
       font-size="14"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="17"
       x="254"
       y="22.9951"
       id="text17"
       style="font-weight:bold;font-size:14px;font-family:sans-serif;fill:#000000">or</text>
    <text
       font-size="14"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="16"
       x="276"
       y="24.9046"
       id="text19"
       style="font-weight:bold;font-size:14px;font-family:monospace;fill:#000000">in</text>
    <text
       font-size="14"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="77"
       x="297"
       y="22.9951"
       id="text21"
       style="font-weight:bold;font-size:14px;font-family:sans-serif;fill:#000000">primitives</text>
    <rect
       height="176.4688"
       style="fill:#ffffff;stroke:#000000;stroke-width:2;filter:url(#fho9u2tgkagrw)"
       width="459"
       x="55"
       y="264.125"
       id="rect23" />
    <rect
       height="59.265598"
       style="fill:#ffffff;stroke:#000000;stroke-width:2;filter:url(#fho9u2tgkagrw)"
       width="189"
       x="246"
       y="288.25781"
       id="rect25" />
    <rect
       height="56.9375"
       style="fill:#ffffff;stroke:none;stroke-width:1"
       width="459"
       x="55"
       y="383.65631"
       id="rect27" />
    <line
       style="stroke:#a80036;stroke-width:1;stroke-dasharray:5, 5"
       x1="31"
       x2="31"
       y1="116.5938"
       y2="457.59381"
       id="line29" />
    <line
       style="stroke:#a80036;stroke-width:1;stroke-dasharray:5, 5"
       x1="141"
       x2="141"
       y1="116.5938"
       y2="457.59381"
       id="line31" />
    <line
       style="stroke:#a80036;stroke-width:1;stroke-dasharray:5, 5"
       x1="300"
       x2="300"
       y1="116.5938"
       y2="457.59381"
       id="line33" />
    <text
       font-size="14"
       lengthAdjust="spacingAndGlyphs"
       textLength="41"
       x="8"
       y="113.292"
       id="text35"
       style="font-size:14px;font-family:sans-serif;fill:#000000">Agent</text>
    <circle
       cx="31.5"
       cy="43.296902"
       style="fill:#fefece;stroke:#a80036;stroke-width:2;filter:url(#fho9u2tgkagrw)"
       id="ellipse37"
       r="8" />
    <path
       d="m 31.5,51.2969 v 27 m -13,-19 h 26 m -13,19 -13,15 m 13,-15 13,15"
       style="fill:none;stroke:#a80036;stroke-width:2;filter:url(#fho9u2tgkagrw)"
       id="path39"
       inkscape:connector-curvature="0" />
    <text
       font-size="14"
       lengthAdjust="spacingAndGlyphs"
       textLength="41"
       x="8"
       y="469.5889"
       id="text41"
       style="font-size:14px;font-family:sans-serif;fill:#000000">Agent</text>
    <circle
       cx="31.5"
       cy="482.89059"
       style="fill:#fefece;stroke:#a80036;stroke-width:2;filter:url(#fho9u2tgkagrw)"
       id="ellipse43"
       r="8" />
    <path
       d="m 31.5,490.8906 v 27 m -13,-19 h 26 m -13,19 -13,15 m 13,-15 13,15"
       style="fill:none;stroke:#a80036;stroke-width:2;filter:url(#fho9u2tgkagrw)"
       id="path45"
       inkscape:connector-curvature="0" />
    <path
       d="m 70,90.2969 h 142 c 5,0 5,13.1484 5,13.1484 0,0 0,13.1485 -5,13.1485 H 70 c -5,0 -5,-13.1485 -5,-13.1485 0,0 0,-13.1484 5,-13.1484"
       style="fill:#fefece;stroke:#a80036;stroke-width:2;filter:url(#fho9u2tgkagrw)"
       id="path47"
       inkscape:connector-curvature="0" />
    <path
       d="m 212,90.2969 c -5,0 -5,13.1484 -5,13.1484 0,13.1485 5,13.1485 5,13.1485"
       style="fill:none;stroke:#a80036;stroke-width:2"
       id="path49"
       inkscape:connector-curvature="0" />
    <text
       font-size="14"
       lengthAdjust="spacingAndGlyphs"
       textLength="132"
       x="70"
       y="108.292"
       id="text51"
       style="font-size:14px;font-family:sans-serif;fill:#000000">CompletableFuture</text>
    <path
       d="m 70,456.5938 h 142 c 5,0 5,13.1484 5,13.1484 0,0 0,13.1484 -5,13.1484 H 70 c -5,0 -5,-13.1484 -5,-13.1484 0,0 0,-13.1484 5,-13.1484"
       style="fill:#fefece;stroke:#a80036;stroke-width:2;filter:url(#fho9u2tgkagrw)"
       id="path53"
       inkscape:connector-curvature="0" />
    <path
       d="m 212,456.5938 c -5,0 -5,13.1484 -5,13.1484 0,13.1484 5,13.1484 5,13.1484"
       style="fill:none;stroke:#a80036;stroke-width:2"
       id="path55"
       inkscape:connector-curvature="0" />
    <text
       font-size="14"
       lengthAdjust="spacingAndGlyphs"
       textLength="132"
       x="70"
       y="474.5889"
       id="text57"
       style="font-size:14px;font-family:sans-serif;fill:#000000">CompletableFuture</text>
    <text
       font-size="14"
       lengthAdjust="spacingAndGlyphs"
       textLength="82"
       x="256"
       y="113.292"
       id="text59"
       style="font-size:14px;font-family:sans-serif;fill:#000000">TupleSpace</text>
    <path
       d="m 282,64.2969 c 0,-10 18,-10 18,-10 0,0 18,0 18,10 v 26 c 0,10 -18,10 -18,10 0,0 -18,0 -18,-10 v -26"
       style="fill:#fefece;stroke:#000000;stroke-width:1.5;filter:url(#fho9u2tgkagrw)"
       id="path61"
       inkscape:connector-curvature="0" />
    <path
       d="m 282,64.2969 c 0,10 18,10 18,10 0,0 18,0 18,-10"
       style="fill:none;stroke:#000000;stroke-width:1.5"
       id="path63"
       inkscape:connector-curvature="0" />
    <text
       font-size="14"
       lengthAdjust="spacingAndGlyphs"
       textLength="82"
       x="256"
       y="469.5889"
       id="text65"
       style="font-size:14px;font-family:sans-serif;fill:#000000">TupleSpace</text>
    <path
       d="m 282,482.8906 c 0,-10 18,-10 18,-10 0,0 18,0 18,10 v 26 c 0,10 -18,10 -18,10 0,0 -18,0 -18,-10 v -26"
       style="fill:#fefece;stroke:#000000;stroke-width:1.5;filter:url(#fho9u2tgkagrw)"
       id="path67"
       inkscape:connector-curvature="0" />
    <path
       d="m 282,482.8906 c 0,10 18,10 18,10 0,0 18,0 18,-10"
       style="fill:none;stroke:#000000;stroke-width:1.5"
       id="path69"
       inkscape:connector-curvature="0" />
    <polygon
       points="288,151.7266 292,147.7266 288,143.7266 298,147.7266 "
       style="fill:#a80036;stroke:#a80036;stroke-width:1"
       id="polygon71" />
    <line
       style="stroke:#a80036;stroke-width:1"
       x1="31.5"
       x2="294"
       y1="147.72659"
       y2="147.72659"
       id="line73" />
    <text
       font-size="13"
       lengthAdjust="spacingAndGlyphs"
       textLength="16"
       x="38.5"
       y="144.9409"
       id="text75"
       style="font-size:13px;font-family:monospace;fill:#000000">rd</text>
    <text
       font-size="13"
       lengthAdjust="spacingAndGlyphs"
       textLength="13"
       x="58.5"
       y="142.6606"
       id="text77"
       style="font-size:13px;font-family:sans-serif;fill:#000000">or</text>
    <text
       font-size="13"
       lengthAdjust="spacingAndGlyphs"
       textLength="16"
       x="75.5"
       y="144.9409"
       id="text79"
       style="font-size:13px;font-family:monospace;fill:#000000">in</text>
    <text
       font-size="13"
       lengthAdjust="spacingAndGlyphs"
       textLength="56"
       x="95.5"
       y="142.6606"
       id="text81"
       style="font-size:13px;font-family:sans-serif;fill:#000000">on some</text>
    <text
       font-size="13"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="64"
       x="155.5"
       y="144.43449"
       id="text83"
       style="font-weight:bold;font-size:13px;font-family:monospace;fill:#000000">Template</text>
    <polygon
       points="152,180.8594 148,176.8594 152,172.8594 142,176.8594 "
       style="fill:#a80036;stroke:#a80036;stroke-width:1"
       id="polygon85" />
    <line
       style="stroke:#a80036;stroke-width:1"
       x1="146"
       x2="299"
       y1="176.85941"
       y2="176.85941"
       id="line87" />
    <text
       font-size="13"
       font-style="italic"
       lengthAdjust="spacingAndGlyphs"
       textLength="41"
       x="158"
       y="171.7935"
       id="text89"
       style="font-style:italic;font-size:13px;font-family:sans-serif;fill:#000000">create</text>
    <polygon
       points="42.5,209.9922 38.5,205.9922 42.5,201.9922 32.5,205.9922 "
       style="fill:#a80036;stroke:#a80036;stroke-width:1"
       id="polygon91" />
    <line
       style="stroke:#a80036;stroke-width:1;stroke-dasharray:2, 2"
       x1="36.5"
       x2="299"
       y1="205.9922"
       y2="205.9922"
       id="line93" />
    <text
       font-size="13"
       font-style="italic"
       lengthAdjust="spacingAndGlyphs"
       textLength="186"
       x="48.5"
       y="200.9263"
       id="text95"
       style="font-style:italic;font-size:13px;font-family:sans-serif;fill:#000000">completable future reference</text>
    <rect
       height="3"
       style="fill:#eeeeee;stroke:#eeeeee;stroke-width:1;filter:url(#fho9u2tgkagrw)"
       width="521"
       x="3"
       y="234.55859"
       id="rect97" />
    <line
       style="stroke:#000000;stroke-width:1"
       x1="3"
       x2="524"
       y1="234.55859"
       y2="234.55859"
       id="line99" />
    <line
       style="stroke:#000000;stroke-width:1"
       x1="3"
       x2="524"
       y1="237.55859"
       y2="237.55859"
       id="line101" />
    <rect
       height="23.132799"
       style="fill:#eeeeee;stroke:#000000;stroke-width:2;filter:url(#fho9u2tgkagrw)"
       width="155"
       x="186"
       y="223.9922"
       id="rect103" />
    <text
       font-size="13"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="136"
       x="192"
       y="240.0591"
       id="text105"
       style="font-weight:bold;font-size:13px;font-family:sans-serif;fill:#000000">Behind the scenes</text>
    <path
       d="m 55,264.125 h 64 v 7 l -10,10 H 55 v -17"
       style="fill:#eeeeee;stroke:#000000;stroke-width:1"
       id="path107"
       inkscape:connector-curvature="0" />
    <rect
       height="176.4688"
       style="fill:none;stroke:#000000;stroke-width:2"
       width="459"
       x="55"
       y="264.125"
       id="rect109" />
    <text
       font-size="13"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="19"
       x="70"
       y="277.19189"
       id="text111"
       style="font-weight:bold;font-size:13px;font-family:sans-serif;fill:#000000">alt</text>
    <text
       font-size="11"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="13"
       x="134"
       y="276.33539"
       id="text113"
       style="font-weight:bold;font-size:11px;font-family:sans-serif;fill:#000000">[a</text>
    <text
       font-size="11"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="35"
       x="151"
       y="277.83649"
       id="text115"
       style="font-weight:bold;font-size:11px;font-family:monospace;fill:#000000">tuple</text>
    <text
       font-size="11"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="59"
       x="190"
       y="276.33539"
       id="text117"
       style="font-weight:bold;font-size:11px;font-family:sans-serif;fill:#000000">matching</text>
    <text
       font-size="11"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="56"
       x="253"
       y="277.83649"
       id="text119"
       style="font-weight:bold;font-size:11px;font-family:monospace;fill:#000000">Template</text>
    <text
       font-size="11"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="43"
       x="313"
       y="276.33539"
       id="text121"
       style="font-weight:bold;font-size:11px;font-family:sans-serif;fill:#000000">exists]</text>
    <path
       d="m 246,288.2578 h 64 v 7 l -10,10 h -54 v -17"
       style="fill:#eeeeee;stroke:#000000;stroke-width:1"
       id="path123"
       inkscape:connector-curvature="0" />
    <rect
       height="59.265598"
       style="fill:none;stroke:#000000;stroke-width:2"
       width="189"
       x="246"
       y="288.25781"
       id="rect125" />
    <text
       font-size="13"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="19"
       x="261"
       y="301.32471"
       id="text127"
       style="font-weight:bold;font-size:13px;font-family:sans-serif;fill:#000000">alt</text>
    <text
       font-size="11"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="82"
       x="325"
       y="300.46829"
       id="text129"
       style="font-weight:bold;font-size:11px;font-family:sans-serif;fill:#000000">[operation is</text>
    <text
       font-size="11"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="14"
       x="411"
       y="301.96939"
       id="text131"
       style="font-weight:bold;font-size:11px;font-family:monospace;fill:#000000">in</text>
    <text
       font-size="11"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="5"
       x="425"
       y="300.46829"
       id="text133"
       style="font-weight:bold;font-size:11px;font-family:sans-serif;fill:#000000">]</text>
    <line
       style="stroke:#a80036;stroke-width:1"
       x1="300"
       x2="342"
       y1="326.52341"
       y2="326.52341"
       id="line135" />
    <line
       style="stroke:#a80036;stroke-width:1"
       x1="342"
       x2="342"
       y1="326.52341"
       y2="339.52341"
       id="line137" />
    <line
       style="stroke:#a80036;stroke-width:1"
       x1="301"
       x2="342"
       y1="339.52341"
       y2="339.52341"
       id="line139" />
    <polygon
       points="311,343.5234 307,339.5234 311,335.5234 301,339.5234 "
       style="fill:#a80036;stroke:#a80036;stroke-width:1"
       id="polygon141" />
    <text
       font-size="13"
       font-style="italic"
       lengthAdjust="spacingAndGlyphs"
       textLength="50"
       x="307"
       y="321.45749"
       id="text143"
       style="font-style:italic;font-size:13px;font-family:sans-serif;fill:#000000">remove</text>
    <text
       font-size="13"
       lengthAdjust="spacingAndGlyphs"
       textLength="0"
       x="361"
       y="321.45749"
       id="text145"
       style="font-size:13px;font-family:sans-serif;fill:#000000" />
    <text
       font-size="13"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="40"
       x="361"
       y="323.23141"
       id="text147"
       style="font-weight:bold;font-size:13px;font-family:monospace;fill:#000000">tuple</text>
    <polygon
       points="152,379.6563 148,375.6563 152,371.6563 142,375.6563 "
       style="fill:#a80036;stroke:#a80036;stroke-width:1"
       id="polygon149" />
    <line
       style="stroke:#a80036;stroke-width:1"
       x1="146"
       x2="299"
       y1="375.65631"
       y2="375.65631"
       id="line151" />
    <text
       font-size="13"
       font-style="italic"
       lengthAdjust="spacingAndGlyphs"
       textLength="91"
       x="158"
       y="370.5903"
       id="text153"
       style="font-style:italic;font-size:13px;font-family:sans-serif;fill:#000000">complete with</text>
    <text
       font-size="13"
       lengthAdjust="spacingAndGlyphs"
       textLength="0"
       x="253"
       y="370.5903"
       id="text155"
       style="font-size:13px;font-family:sans-serif;fill:#000000" />
    <text
       font-size="13"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="40"
       x="253"
       y="372.3642"
       id="text157"
       style="font-weight:bold;font-size:13px;font-family:monospace;fill:#000000">tuple</text>
    <line
       style="stroke:#000000;stroke-width:1;stroke-dasharray:2, 2"
       x1="55"
       x2="514"
       y1="384.65631"
       y2="384.65631"
       id="line159" />
    <text
       font-size="11"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="121"
       x="60"
       y="394.8667"
       id="text161"
       style="font-weight:bold;font-size:11px;font-family:sans-serif;fill:#000000">[no tuple matching</text>
    <text
       font-size="11"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="56"
       x="185"
       y="396.3678"
       id="text163"
       style="font-weight:bold;font-size:11px;font-family:monospace;fill:#000000">Template</text>
    <text
       font-size="11"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="43"
       x="245"
       y="394.8667"
       id="text165"
       style="font-weight:bold;font-size:11px;font-family:sans-serif;fill:#000000">exists]</text>
    <line
       style="stroke:#a80036;stroke-width:1"
       x1="300"
       x2="342"
       y1="419.59381"
       y2="419.59381"
       id="line167" />
    <line
       style="stroke:#a80036;stroke-width:1"
       x1="342"
       x2="342"
       y1="419.59381"
       y2="432.59381"
       id="line169" />
    <line
       style="stroke:#a80036;stroke-width:1"
       x1="301"
       x2="342"
       y1="432.59381"
       y2="432.59381"
       id="line171" />
    <polygon
       points="311,436.5938 307,432.5938 311,428.5938 301,432.5938 "
       style="fill:#a80036;stroke:#a80036;stroke-width:1"
       id="polygon173" />
    <text
       font-size="13"
       font-style="italic"
       lengthAdjust="spacingAndGlyphs"
       textLength="79"
       x="307"
       y="414.5278"
       id="text175"
       style="font-style:italic;font-size:13px;font-family:sans-serif;fill:#000000">append new</text>
    <text
       font-size="13"
       lengthAdjust="spacingAndGlyphs"
       textLength="0"
       x="390"
       y="414.5278"
       id="text177"
       style="font-size:13px;font-family:sans-serif;fill:#000000" />
    <text
       font-size="13"
       font-weight="bold"
       lengthAdjust="spacingAndGlyphs"
       textLength="112"
       x="390"
       y="416.3017"
       id="text179"
       style="font-weight:bold;font-size:13px;font-family:monospace;fill:#000000">PendingRequest</text>
    <!--MD5=[151b2ca5f4299bc045b01550686bc6de]
@startuml
title Design of ""rd"" or ""in"" primitives

actor Agent
queue CompletableFuture
database TupleSpace

Agent -> TupleSpace: ""rd"" or ""in"" on some ""**Template**""
TupleSpace -> CompletableFuture: //create//
Agent <- - TupleSpace: //completable future reference//

== Behind the scenes ==

alt a ""**tuple**"" matching ""**Template**"" exists
alt operation is ""in""
TupleSpace -> TupleSpace : //remove// ""**tuple**""
end
TupleSpace -> CompletableFuture: //complete with// ""**tuple**""
else no tuple matching ""**Template**"" exists
TupleSpace -> TupleSpace : //append new// ""**PendingRequest**""
end
@enduml

PlantUML version 1.2019.11(Sun Sep 22 10:02:15 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
-->
  </g>
</svg>
